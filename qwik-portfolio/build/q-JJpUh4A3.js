import{m as t,R as s,M as n,F as c}from"./q-CByD_zVH.js";const l={title:"Simplify Data Fetching and Caching with RTK Query",meta:[{name:"description",content:"A quick guide on using Redux Toolkit Query for efficient API calls and data caching."}],styles:[],links:[],scripts:[],frontmatter:{pubDate:"2022-10-04",tags:["rtk-query","redux-toolkit","react"],image:"rtk-query-make-fetching-and-caching-data-effortless.avif"}},r={title:"Simplify Data Fetching and Caching with RTK Query",description:"A quick guide on using Redux Toolkit Query for efficient API calls and data caching.",pubDate:"2022-10-04",tags:["rtk-query","redux-toolkit","react"],image:"rtk-query-make-fetching-and-caching-data-effortless.avif"};function o(a){const e={blockquote:"blockquote",code:"code",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...a.components};return n(c,{children:[n(e.p,{children:"RTK query which is the short form of Redux Toolkit Query is a data fetching and caching library that comes bundled with Redux Toolkit. If you're a person using Redux Toolkit to manage your application global store then this is going to be the best go-to for you."}),`
`,n(e.p,{children:"There are a few alternatives to Redux Toolkit, React-Query and React-Saga are amongst them. These libraries need a bit more configuration to work. Like, React Query wants you to use your choice of data fetching library (e.g Axios or fetch API). But RTK Query handles all of it for you. You just need to create an endpoint module and add the required configurations. After you add the base configurations you're ready to roll. Also, it makes handling loading states, and errors a lot easier. Now let's see how we can implement RTK Query with minimal configuration."}),`
`,n(e.p,{children:"First, we'll see how you can just use the RTK Query without using Redux Toolkit in your project."}),`
`,n(e.p,{children:n(e.strong,{children:"1.Â Create a store :"})}),`
`,n(e.p,{children:["Create a folder named ",n(e.strong,{children:"store"})," at the root of your project."]}),`
`,n(e.p,{children:["Now, create a folder called ",n(e.strong,{children:"reducers"})," inside of it. To separate our API slices from global state slices let's create a folder called API and we'll create all the API slices inside of it. Now the slice config,"]}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:["Slice with a single endpoint. Let's name it to ",n(e.strong,{children:"demo"}),"."]}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token keyword",children:"import"})," ",n(e.span,{class:"token punctuation",children:"{"})," createApi",n(e.span,{class:"token punctuation",children:","})," fetchBaseQuery ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'@reduxjs/toolkit/query/react'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"interface"})," ",n(e.span,{class:"token class-name",children:"IReturn"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  key`,n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token builtin",children:"string"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"any"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"interface"})," ",n(e.span,{class:"token class-name",children:"IParams"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  key`,n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token builtin",children:"string"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"any"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"export"})," ",n(e.span,{class:"token keyword",children:"const"})," demo ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token function",children:"createApi"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  reducerPath`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'demo'"}),n(e.span,{class:"token punctuation",children:","}),`
  baseQuery`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token function",children:"fetchBaseQuery"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
    baseUrl`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'https://baseurl.com'"}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
  tagTypes`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token function-variable function",children:"endpoints"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),"builder",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
    getSingleData`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"query"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:","})," IParams",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug",n(e.span,{class:"token punctuation",children:","})," id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"id",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.blockquote,{children:[`
`,n(e.p,{children:["You need to add reducerPath just like you need to do for reducer slices. Now, there are two types of builder methods. ",n(e.strong,{children:"query"})," and ",n(e.strong,{children:"mutation"}),". Queries are used when you're not trying to mutate or change any data. For ",n(e.strong,{children:"Get"})," requests in short. And ",n(e.strong,{children:"mutations"})," are used to change,update,delete type actions. Also the tagTypes here are like groups and you'll need it when you make mutations. We'll see it downwards."]}),`
`]}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:"Here you can see there are two interfaces. These are only required for TypeScript projects. You need to specify the types of the parameters and the returns inside the angle brackets."}),`
`,n(e.li,{children:"Now, you might need more the these like you might need to pass your auth token. You just have to configure it inside the baseQuery property. Here's how to do it."}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token keyword",children:"import"})," ",n(e.span,{class:"token punctuation",children:"{"})," createApi",n(e.span,{class:"token punctuation",children:","})," fetchBaseQuery ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'@reduxjs/toolkit/query/react'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"interface"})," ",n(e.span,{class:"token class-name",children:"IReturn"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  key`,n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token builtin",children:"string"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"any"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"interface"})," ",n(e.span,{class:"token class-name",children:"IParams"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  key`,n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token builtin",children:"string"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token builtin",children:"any"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"const"})," baseQuery ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token function",children:"fetchBaseQuery"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  baseUrl`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'https://baseurl.com'"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token function-variable function",children:"prepareHeaders"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),"headers",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  `,n(e.span,{class:"token keyword",children:"const"})," token ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token string",children:"'token'"}),n(e.span,{class:"token punctuation",children:";"}),`
    `,n(e.span,{class:"token keyword",children:"if"})," ",n(e.span,{class:"token punctuation",children:"("}),"token",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
      headers`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"set"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'Content-Type'"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'application/json'"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
      headers`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"set"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'Authorization'"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"Bearer "}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"token",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
      headers`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"set"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token string",children:"'Cookies'"}),n(e.span,{class:"token punctuation",children:","})," token",n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),`
    `,n(e.span,{class:"token keyword",children:"return"})," headers",n(e.span,{class:"token punctuation",children:";"}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"export"})," ",n(e.span,{class:"token keyword",children:"const"})," demo ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token function",children:"createApi"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  reducerPath`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'demo'"}),n(e.span,{class:"token punctuation",children:","}),`
  baseQuery`,n(e.span,{class:"token operator",children:":"})," baseQuery",n(e.span,{class:"token punctuation",children:","}),`
  tagTypes`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token function-variable function",children:"endpoints"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),"builder",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
    getSingleData`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"query"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:","})," IParams",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug",n(e.span,{class:"token punctuation",children:","})," id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"id",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    getAllData`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"query"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:","})," IParams",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items"}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),n(e.span,{class:"token punctuation",children:","}),`
      providesTags`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"{"})," type",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:","})," id",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'LIST'"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:"]"}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:["We're setting the headers if we find the token. The getAllData seems to be different right? It has an extra configuration ",n(e.strong,{children:"providesTags"}),". What is it doing here? Well, it is used to cache the fetched data. So, when you send a request using the same endpoint and the cache hasn't been invalidated, it will return the cache instead. Which saves you from some API calls and makes the UI rendering look instant."]}),`
`,n(e.li,{children:["So far we've only seen how we can request queries. Let's configure some methods to make mutations. Create, Update, ",n(e.strong,{children:"Delete"})," generally."]}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token keyword",children:"export"})," ",n(e.span,{class:"token keyword",children:"const"})," demo ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token function",children:"createApi"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
  reducerPath`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'demo'"}),n(e.span,{class:"token punctuation",children:","}),`
  baseQuery`,n(e.span,{class:"token operator",children:":"})," baseQuery",n(e.span,{class:"token punctuation",children:","}),`
  tagTypes`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:","}),`
  `,n(e.span,{class:"token function-variable function",children:"endpoints"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),"builder",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
    getSingleData`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"query"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:","})," IParams",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug",n(e.span,{class:"token punctuation",children:","})," id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"id",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    getAllData`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"query"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:","})," IParams",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items"}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),n(e.span,{class:"token punctuation",children:","}),`
      providesTags`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"{"})," type",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:","})," id",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'LIST'"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:"]"}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    updateItem`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"mutation"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:","})," IParam",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug",n(e.span,{class:"token punctuation",children:","})," id",n(e.span,{class:"token punctuation",children:","})," body ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
        `,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
          url`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token string",children:"/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"id",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),n(e.span,{class:"token punctuation",children:","}),`
          method`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'PATCH'"}),n(e.span,{class:"token punctuation",children:","}),`
          body
        `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:";"}),`
      `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:","}),`
      invalidatesTags`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"{"})," type",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:","})," id",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'LIST'"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:"]"}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","}),`
    deleteItem`,n(e.span,{class:"token operator",children:":"})," builder",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token generic-function",children:[n(e.span,{class:"token function",children:"mutation"}),n(e.span,{class:"token generic class-name",children:[n(e.span,{class:"token operator",children:"<"}),"IReturn",n(e.span,{class:"token punctuation",children:","})," IParams",n(e.span,{class:"token operator",children:">"})]})]}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"}),`
      `,n(e.span,{class:"token function-variable function",children:"query"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," slug",n(e.span,{class:"token punctuation",children:","})," id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
        `,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
          url`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token template-string",children:[n(e.span,{class:"token template-punctuation string",children:"`"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"slug",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token string",children:"/items/"}),n(e.span,{class:"token interpolation",children:[n(e.span,{class:"token interpolation-punctuation punctuation",children:"${"}),"id",n(e.span,{class:"token interpolation-punctuation punctuation",children:"}"})]}),n(e.span,{class:"token template-punctuation string",children:"`"})]}),n(e.span,{class:"token punctuation",children:","}),`
          method`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'DELETE'"}),`
        `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:";"}),`
      `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:","}),`
      invalidatesTags`,n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"{"})," type",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:","})," id",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'LIST'"})," ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:"]"}),`
    `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
  `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:["For mutations, we're writing a bit more code. In the return statement of the query, you need to specify the ",n(e.strong,{children:"URL, Method, and Body (optional)"}),". Just like in fetch or Axios you pass the endpoint and method and body here. Now, here's an interesting thing. When you make mutations, you're changing the data. So it means that the cache you have currently is old and stores old/wrong values. You need to update it. But first, you have to invalidate it so it can be updated right! To do that, just add an extra property invalidatesTags and add the tags that it belongs to. Also, you don't have to do it in the shown way. You can just add the tags directly inside the array like so,"]}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:["invalidatesTags",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:"After including this property, whenever you make changes your cached data will be invalidated. Now you might think as your cache was invalidated you need somehow make another request to fetch new data and cache that again. Don't worry. RTK query handles that for you too. Whenever a cache is invalidated it will automatically fetch new data with the method that provides that tag."}),`
`,n(e.li,{children:"Now, will it run every one of them to fetch data? And when will it be executed? It will be executed when going to a page where a query method is implemented and you are fetching data. And all the loading and error handling will happen as the initial fetch."}),`
`]}),`
`,n(e.p,{children:[n(e.strong,{children:"This far we've only created an API slice."})," Now, let's see how we can allow our project to use it. To do so we need to wrap our root element with a provider and pass the ",n(e.strong,{children:"API"})," slice as a prop. Now here's a thing. RTK suggests you use a single slice for the APIs but you're not bound to do so. If you have a use case where you need to have separate API slices, you can do so. But it requires a bit more configuration. For now, let's just focus on our minimal configuration."]}),`
`,n(e.p,{children:n(e.strong,{children:"2. Wrap with the provider :"})}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token keyword",children:"import"})," React ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'react'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"import"})," ReactDOM ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'react-dom/client'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"import"})," ",n(e.span,{class:"token punctuation",children:"{"})," ApiProvider ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'@reduxjs/toolkit/query/react'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"import"})," ",n(e.span,{class:"token punctuation",children:"{"})," demo ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'store/api/demoSlice'"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token keyword",children:"import"})," Index ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'pages/'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"function"})," ",n(e.span,{class:"token function",children:"App"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  `,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token punctuation",children:"("}),`
    `,n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"<"}),n(e.span,{class:"token class-name",children:"ApiProvider"})]})," ",n(e.span,{class:"token attr-name",children:"api"}),n(e.span,{class:"token script language-javascript",children:[n(e.span,{class:"token script-punctuation punctuation",children:"="}),n(e.span,{class:"token punctuation",children:"{"}),"demo",n(e.span,{class:"token punctuation",children:"}"})]}),n(e.span,{class:"token punctuation",children:">"})]}),n(e.span,{class:"token plain-text",children:`
      `}),n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"<"}),n(e.span,{class:"token class-name",children:"Index"})]})," ",n(e.span,{class:"token punctuation",children:"/>"})]}),n(e.span,{class:"token plain-text",children:`
    `}),n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"</"}),n(e.span,{class:"token class-name",children:"ApiProvider"})]}),n(e.span,{class:"token punctuation",children:">"})]}),`
  `,n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`
`]})}),`
`,n(e.p,{children:["To provide your slices you just have to import the exported slice from the store and pass it into the ",n(e.strong,{children:"ApiProvider"})," as the value of the ",n(e.strong,{children:"API"})," prop. For the sake of minimal setup, assuming that you have only one API slice for your whole project. You're done here. Now let's see how we can consume our API methods. Here comes the interesting part."]}),`
`,n(e.p,{children:n(e.strong,{children:"3. Consuming the API methods."})}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token keyword",children:"import"})," ",n(e.span,{class:"token punctuation",children:"{"})," demo ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token keyword",children:"from"})," ",n(e.span,{class:"token string",children:"'store/api/demoSlice'"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"function"})," ",n(e.span,{class:"token function-variable function",children:"Todos"})," ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token punctuation",children:"{"})," data",n(e.span,{class:"token punctuation",children:","})," isLoading",n(e.span,{class:"token punctuation",children:","})," error ",n(e.span,{class:"token punctuation",children:"}"})," ",n(e.span,{class:"token operator",children:"="})," demo",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"useGetAllDataQuery"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token punctuation",children:"["}),"deleteItem",n(e.span,{class:"token punctuation",children:","})," status",n(e.span,{class:"token punctuation",children:"]"})," ",n(e.span,{class:"token operator",children:"="})," demo",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"useDeleteItemMutation"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),`

`,n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token function-variable function",children:"handleDelete"})," ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token keyword",children:"async"})," ",n(e.span,{class:"token punctuation",children:"("}),"id",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
  `,n(e.span,{class:"token keyword",children:"const"})," res ",n(e.span,{class:"token operator",children:"="})," ",n(e.span,{class:"token keyword",children:"await"})," ",n(e.span,{class:"token function",children:"deleteItem"}),n(e.span,{class:"token punctuation",children:"("}),"id",n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:";"}),`

`,n(e.span,{class:"token keyword",children:"if"}),n(e.span,{class:"token punctuation",children:"("}),"isLoading",n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"{"}),`
  `,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"<"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),n(e.span,{class:"token plain-text",children:"Loading. Please wait!"}),n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"</"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"if"}),n(e.span,{class:"token punctuation",children:"("}),"isError",n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"{"}),`
  `,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"<"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),n(e.span,{class:"token plain-text",children:"Sorry! Unable to load data."}),n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"</"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token punctuation",children:"("}),`
  `,n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"<"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),n(e.span,{class:"token plain-text",children:`
    `}),n(e.span,{class:"token punctuation",children:"{"}),"data",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"map"}),n(e.span,{class:"token punctuation",children:"("}),"item ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"{"}),`
       `,n(e.span,{class:"token keyword",children:"return"})," ",n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"<"}),"div"]})," ",n(e.span,{class:"token attr-name",children:"key"}),n(e.span,{class:"token script language-javascript",children:[n(e.span,{class:"token script-punctuation punctuation",children:"="}),n(e.span,{class:"token punctuation",children:"{"}),"item",n(e.span,{class:"token punctuation",children:"."}),"id",n(e.span,{class:"token punctuation",children:"}"})]})," ",n(e.span,{class:"token attr-name",children:"onClick"}),n(e.span,{class:"token script language-javascript",children:[n(e.span,{class:"token script-punctuation punctuation",children:"="}),n(e.span,{class:"token punctuation",children:"{"}),"handleDelete",n(e.span,{class:"token punctuation",children:"}"})]}),n(e.span,{class:"token punctuation",children:">"})]}),n(e.span,{class:"token punctuation",children:"{"}),"item",n(e.span,{class:"token punctuation",children:"."}),"title",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"</"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),`
     `,n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token plain-text",children:`
  `}),n(e.span,{class:"token tag",children:[n(e.span,{class:"token tag",children:[n(e.span,{class:"token punctuation",children:"</"}),"div"]}),n(e.span,{class:"token punctuation",children:">"})]}),n(e.span,{class:"token punctuation",children:")"}),`
`,n(e.span,{class:"token punctuation",children:"}"}),`

`,n(e.span,{class:"token keyword",children:"export"})," ",n(e.span,{class:"token keyword",children:"default"})," Todos",n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.p,{children:["Wait! What? Where do these ",n(e.strong,{children:"useGetAllDataQuery"})," and ",n(e.strong,{children:"useDeleteItemMutation"})," methods come from? The methods we created are different!"]}),`
`,n(e.p,{children:["Looks different but at the same time similar right? Well, you're right. Cause we did not create these methods but they sound familiar cause these are the ones we created with a bit of tweaking. RTK Query prefixed our methods with the keyword use and postfixed with the type of the method, either ",n(e.strong,{children:"Query"})," or ",n(e.strong,{children:"Mutation"}),". And to use those methods we need to use them this way."]}),`
`,n(e.p,{children:"Now, as you can see I've imported the demo module from demoSlice and used the endpoints. Here, for queries, It returns an object with some props like data, isLoading, isError, error, etc. These props are self-explanatory. To use the data you need to wait until the data is loaded. Till then show a loading message and error message for any kind of error."}),`
`,n(e.p,{children:"For the mutation, you get a tuple in return. The first property is the handler and the second one is the status. You can also show loading states based on the status of the mutation. now you just have to call the handler passing the right param(s). And after the successful execution, the data will get invalidated and fetch new data automatically."}),`
`,n(e.p,{children:"You can also refetch manually. Query methods return a property called refetch. It's a function and you can just call it on a click event may be to refetch. All other methods can be used in the same way."}),`
`,n(e.p,{children:"Now you're ready to jumpstart yourself and go beyond this minimal config."}),`
`,n(e.p,{children:n(e.strong,{children:"Few things you should know :"})}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:"You can make lazy queries. What I mean is that with the way we're consuming the endpoints now, the queries happen on page load automatically. But you might wanna do it only on a certain use case. To do that you can make lazy queries. The code will look like this,"}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token keyword",children:"const"})," ",n(e.span,{class:"token punctuation",children:"["}),"fetchAllData",n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token punctuation",children:"{"})," data",n(e.span,{class:"token punctuation",children:","})," isLoading",n(e.span,{class:"token punctuation",children:","})," isError ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:"]"})," ",n(e.span,{class:"token operator",children:"="}),`
  demo`,n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"useLazyGetAllDataQuery"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.p,{children:"Now just call the fetchData method as/when you please."}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:"You need async await only when a method returns a tuple."}),`
`,n(e.li,{children:"You can cache each element of an array with the same tag type but different IDs like so,"}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token function-variable function",children:"providesTags"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),"result",n(e.span,{class:"token punctuation",children:","})," error",n(e.span,{class:"token punctuation",children:","})," arg",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"}),`
  result `,n(e.span,{class:"token operator",children:"?"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token operator",children:"..."}),"result",n(e.span,{class:"token punctuation",children:"."}),n(e.span,{class:"token function",children:"map"}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"("}),n(e.span,{class:"token punctuation",children:"{"})," type",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:","})," id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:")"}),n(e.span,{class:"token punctuation",children:","})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:"]"})," ",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})}),`
`,n(e.ul,{children:[`
`,n(e.li,{children:"Invalidating will be similar."}),`
`]}),`
`,n(e.pre,{children:n(e.code,{class:"language-tsx",children:[n(e.span,{class:"token function-variable function",children:"invalidatesTags"}),n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token punctuation",children:"("}),"result",n(e.span,{class:"token punctuation",children:","})," error",n(e.span,{class:"token punctuation",children:","})," arg",n(e.span,{class:"token punctuation",children:")"})," ",n(e.span,{class:"token operator",children:"=>"})," ",n(e.span,{class:"token punctuation",children:"["}),n(e.span,{class:"token punctuation",children:"{"})," type",n(e.span,{class:"token operator",children:":"})," ",n(e.span,{class:"token string",children:"'tag'"}),n(e.span,{class:"token punctuation",children:","})," id",n(e.span,{class:"token operator",children:":"})," arg",n(e.span,{class:"token punctuation",children:"."}),"id ",n(e.span,{class:"token punctuation",children:"}"}),n(e.span,{class:"token punctuation",children:"]"}),n(e.span,{class:"token punctuation",children:";"}),`
`]})})]})}const p=()=>t(s,{children:t(o,{},3,null)},3,"CqPEnhjm");export{p as default,r as frontmatter,l as head};
